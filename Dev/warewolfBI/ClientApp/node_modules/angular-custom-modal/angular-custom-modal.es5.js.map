{"version":3,"file":"angular-custom-modal.es5.js","sources":["ts/src/angular-custom-modal.ts","ts/src/modal.module.ts","ts/src/modal.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {ModalComponent,ModalModule} from './index';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ModalComponent } from './modal.component';\nexport class ModalModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule,\n  ],\n  exports: [ModalComponent],\n  declarations: [ModalComponent],\n  providers: [],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ModalModule_tsickle_Closure_declarations() {\n/** @type {?} */\nModalModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/* tslint:disable:component-selector */\n\n\nimport {\n  Component,\n  OnDestroy,\n  ContentChild,\n  ElementRef,\n  TemplateRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Input,\n  HostListener,\n} from '@angular/core';\nexport class ModalComponent implements OnDestroy {\n   header: TemplateRef<any>;\n   body: TemplateRef<any>;\n   footer: TemplateRef<any>;\n   closeOnOutsideClick = true;\n\n  visible = false;\n  visibleAnimate = false;\n/**\n * @param {?} elementRef\n * @param {?} changeDetectorRef\n */\nconstructor(\nprivate elementRef: ElementRef,\nprivate changeDetectorRef: ChangeDetectorRef\n  ) { }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    // Prevent modal from not executing its closing actions if the user navigated away (for example,\n    // through a link).\n    this.close();\n  }\n/**\n * @return {?}\n */\nopen(): void {\n    document.body.classList.add('modal-open');\n\n    this.visible = true;\n    setTimeout(() => {\n      this.visibleAnimate = true;\n    });\n  }\n/**\n * @return {?}\n */\nclose(): void {\n    document.body.classList.remove('modal-open');\n\n    this.visibleAnimate = false;\n    setTimeout(() => {\n      this.visible = false;\n      this.changeDetectorRef.markForCheck();\n    }, 200);\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonContainerClicked(event: MouseEvent): void {\n    if (( /** @type {?} */((<HTMLElement>event.target))).classList.contains('modal') && this.isTopMost() && this.closeOnOutsideClick) {\n      this.close();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonKeyDownHandler(event: KeyboardEvent) {\n    // If ESC key and TOP MOST modal, close it.\n    if (event.key === 'Escape' && this.isTopMost()) {\n      this.close();\n    }\n  }\n/**\n * Returns true if this modal is the top most modal.\n * @return {?}\n */\nisTopMost(): boolean {\n    return !this.elementRef.nativeElement.querySelector(':scope modal > .modal');\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'modal',\n  template: `\n    <div \n      class=\"modal fade\"\n      role=\"dialog\"\n      tabindex=\"-1\"\n      [class.in]=\"visibleAnimate\"\n      *ngIf=\"visible\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <ng-container *ngTemplateOutlet=\"header\"></ng-container>\n            <button class=\"close\" data-dismiss=\"modal\" type=\"button\" aria-label=\"Close\" (click)=\"close()\">Ã—</button>\n          </div>\n          <div class=\"modal-body\">\n            <ng-container *ngTemplateOutlet=\"body\"></ng-container>\n          </div>\n          <div class=\"modal-footer\">\n            <ng-container *ngTemplateOutlet=\"footer\"></ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    /**\n     * A more specific selector overwrites bootstrap display properties, but they still enable users\n     * to overwite them on their apps.\n     */\n    /deep/ modal .modal {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center; }\n\n    /deep/ .modal {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      min-height: 100%;\n      background-color: rgba(0, 0, 0, 0.15);\n      z-index: 42; }\n\n    /deep/ .modal.in {\n      opacity: 1; }\n  `],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'header': [{ type: ContentChild, args: ['modalHeader', ] },],\n'body': [{ type: ContentChild, args: ['modalBody', ] },],\n'footer': [{ type: ContentChild, args: ['modalFooter', ] },],\n'closeOnOutsideClick': [{ type: Input },],\n'onContainerClicked': [{ type: HostListener, args: ['click', ['$event'], ] },],\n'onKeyDownHandler': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\nfunction ModalComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nModalComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalComponent.ctorParameters;\n/** @type {?} */\nModalComponent.propDecorators;\n/** @type {?} */\nModalComponent.prototype.header;\n/** @type {?} */\nModalComponent.prototype.body;\n/** @type {?} */\nModalComponent.prototype.footer;\n/** @type {?} */\nModalComponent.prototype.closeOnOutsideClick;\n/** @type {?} */\nModalComponent.prototype.visible;\n/** @type {?} */\nModalComponent.prototype.visibleAnimate;\n/** @type {?} */\nModalComponent.prototype.elementRef;\n/** @type {?} */\nModalComponent.prototype.changeDetectorRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
