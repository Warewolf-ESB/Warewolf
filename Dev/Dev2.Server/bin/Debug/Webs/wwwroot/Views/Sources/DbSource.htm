<div id="dbSourceContainer" class="ui-widget-content" style="height: 488px; width: 700px;">
    <div  id="dbSourceContent" class="source-content">
        <div class="float-left">
            <div class="sources-server-form">
                <div>
                    <div class="field">
                        <label class="sources-server-form-label" for="dbSourceType">Type:</label>
                        <select tabindex="51" id="dbSourceType" name="dbSourceType" style="width: 259px" disabled="disabled" data-bind="value: data.serverType, optionsCaption: 'Choose...'">
                            <!--, options: serverTypes-->
                            <option value="SqlDatabase">SqlDatabase</option>
                        </select>
                    </div>
                    <div class="field">
                        <label class="sources-server-form-label" for="dbSourceServer">Server:</label>
                        <input tabindex="52" type="text" name="dbSourceServer" id="dbSourceServer" placeholder="" autocomplete="off" data-bind="value: data.server, valueUpdate: 'afterkeydown', jEnable: !isTestResultsLoading()" />
                    </div>
                    <div class="field">
                        <label class="sources-server-form-label">Authentication Type:</label>
                        <span>
                            <span>
                                <input tabindex="53" style="width: 1em" type="radio" name="authenticationType" id="authenticationTypeWindows" value="Windows" data-bind="checked: data.authenticationType, jEnable: !isTestResultsLoading()" />
                                <label class="radio" for="authenticationTypeWindows">Windows</label>
                            </span>
                            <span>
                                <input tabindex="54" style="width: 1em" type="radio" name="authenticationType" id="authenticationTypeUser" value="User" data-bind="checked: data.authenticationType, jEnable: !isTestResultsLoading()" />
                                <label class="radio" for="authenticationTypeUser">User</label>
                            </span>
                        </span>
                    </div>
                    <div class="field">
                        <label class="sources-server-form-label" for="dbSourceUserID" data-bind="visible: isUserInputVisible">User Name:</label>
                        <input tabindex="55" type="text" name="dbSourceUserID" id="dbSourceUserID" placeholder="" autocomplete="off" data-bind="visible: isUserInputVisible, value: data.userID, valueUpdate: 'afterkeydown', jEnable: !isTestResultsLoading()" />
                    </div>
                    <div class="field">
                        <label class="sources-server-form-label" for="dbSourcePassword" data-bind="visible: isUserInputVisible">Password:</label>
                        <input tabindex="56" type="password" name="dbSourcePassword" id="dbSourcePassword" placeholder="" autocomplete="off" data-bind="visible: isUserInputVisible, value: data.password, valueUpdate: 'afterkeydown', jEnable: !isTestResultsLoading()" />
                    </div>
                </div>
                <div style="text-align: right">
                    <img class="icon" src="Images/ajax-loader.gif" alt="loading" data-bind="visible: isTestResultsLoading()" />
                    <span data-bind="visible: showTestResults">
                        <span class="message-success" data-bind="visible: testSucceeded()">
                            <img class="icon" src="Images/tick.png" alt="succeeded" />
                            <span>Successful</span>
                        </span>
                        <span class="message-error" data-bind="visible: !testSucceeded()">
                            <img class="icon" src="Images/warning.png" alt="error" />
                            <span>Unsuccessful</span>
                        </span>
                    </span>
                    <button tabindex="57" type="button" name="test" id="testButton" data-bind="click: test, jEnable: isFormTestable(), visible: !isTestResultsLoading()" style="margin-right: 3px">Test Connection</button>
                    <button tabindex="57" type="button" name="cancelTest" id="cancelTestButton" data-bind="click: cancelTest, visible: isTestResultsLoading()" style="margin-right: 3px">Cancel Test</button>
                </div>
            </div>
        </div>
        <div class="help float-left">
            <div class="help-show-check" style="margin-top: -43px; height: 30px;">
            </div>
            <div class="help-text help-text-max ui-widget-content" style="margin-top: 15px;" data-bind="html: helpText, visible: isHelpTextVisible">
            </div>
        </div>
        <div style="clear: both; float: left; padding-top: 5px;" data-bind="visible: showTestResults">
            <span class="message-error" data-bind="visible: !testSucceeded()">
                <span data-bind="text: testError"></span>
            </span>
            <div id="field">
                <label data-bind="visible: testSucceeded()" class="sources-server-form-label" for="dbSourceDatabase">Database:</label>
                <select tabindex="58" id="dbSourceDatabase" name="dbSourceDatabase" data-bind="value: data.databaseName, options: dataSources, optionsCaption: 'Choose...', visible: testSucceeded()" style="width: 260px" />
            </div>
        </div>
        <div class="button-bar" style="position: absolute; top: 440px; left: 462px;">
            <button tabindex="59" type="submit" name="save" id="saveButton" data-bind="click: save, jEnable: isFormValid">Save Connection</button>
            <button tabindex="60" type="button" name="cancel" id="nonButtonBarCancelButton" data-bind="click: cancel">Cancel</button>
        </div>
    </div>
</div>
<div id="dbSourceSaveDialogContainer">
</div>

<script src="Scripts/Sources/DbSourceViewModel.js"></script>
<script src="Scripts/Dialogs/SaveViewModel.js"></script>

<script type="text/javascript">
    var dbSourceViewModel = DbSourceViewModel.create("dbSourceContainer", "dbSourceSaveDialogContainer");
</script>

