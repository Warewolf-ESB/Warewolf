<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <title>Warewolf</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles/warewolf.css">
    <script type='text/javascript'>
        jQuery(document).ready(function () {
            $(".close-btn").click(function (e) {
                e.preventDefault();
                window.external.CloseBrowser();
            });
            $(".submit-btn").click(function (e) {
                e.preventDefault();
                let valid = true;
                let planId = $(this).attr("plan-id");
                let firstName = $('#firstName').val();
                let lastName = $('#lastName').val();
                let email = $('#email').val();
                let errorMsg = "There were errors while submitting: ";
                if (firstName === '') {
                    ShowError();
                    valid = false;
                    errorMsg += " [First Name] "
                }

                if (lastName === '') {
                    ShowError();
                    valid = false;
                    errorMsg += " [Last Name] "
                }
                if (email === '') {
                    ShowError();
                    valid = false;
                    errorMsg += " [Email Address] "
                }

                if (!isEmail(email)) {

                    valid = false;
                    errorMsg += " [Invalid Email Address Format] "
                }

                if (valid === true) {
                    let result = window.external.CheckoutNew(email, firstName, lastName, planId);

                    if (result === "success") {
                        $("#errorContainer").css("display", "none");
                        $("#register-result").css("display", "block");
                        $("#customer-info").css("display", "none");
                        $("#terms").css("display", "none");
                    } else {
                        ShowError(errorMsg);
                    }
                } else {
                    ShowError(errorMsg);
                }
            });

            function isEmail(email) {
                let regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return regex.test(email);
            }

            function ShowError(errorMsg) {
                $("#errorContainer").text(errorMsg);
                $("#errorContainer").css("display", "block");
                $("#customer-info").css("display", "block");
                $("#register-result").css("display", "none");
            }
        });
    </script>
</head>
<body>
<div class="navbar navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <a href="https://www.warewolf.io"><img src="images/logo.png" height="auto" width="240px"/></a>
        </div>
    </div>
</div>
<div id="container" class="container">
    <div id="register-result" class="row" style="display:none">

        <div class="col-sm-12 text-center">
            <p class="text-success" id="successContainer">Your registration has been successful. You can close this
                window and continue.</p>
            <input type="submit" class="close-btn btn btn-success btn-md" value="Close">
        </div>
    </div>
    <div id="customer-info" class="row">
        <div class="col-sm-12" id="checkout_info">
            <form id="subscribe-form">
                <div class="page-header text-center">
                    <h4>Register</h4>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group required">
                            <label class='control-label' for="firstName">First Name</label>
                            <input type="text" required="required" class="form-control" id="firstName" name="firstName">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group required">
                            <label class='control-label' for="lastName">Last Name</label>
                            <input type="text" class="form-control" required="required" name="lastName" id="lastName">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group required">
                            <label class='control-label' for="email">Email address</label>
                            <input type="email" class="form-control" required="required" id="email" name="email">
                        </div>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-sm-6 text-center">
                        <h5>Enterprise</h5>
                        <p>$220 <small><em>per core per month</em></small></p>
                        <input type="submit"
                               class="submit-btn btn btn-register btn-md" plan-id="enterprise" value="Try for Free">
                    </div>
                    <div class="col-sm-6 text-center">
                        <h5>Developer</h5>
                        <p>$80 <small><em>per core per month</em></small></p>
                        <input type="submit" class="submit-btn btn btn-register btn-md" plan-id="developer"
                               value="Try for Free">
                    </div>
                </div>
                <br/>


            </form>
        </div>
        <div class="col-sm-12">
            <div class="messageContainer">
                <span class="text-danger" id="errorContainer" style="display:none"></span>
            </div>
            <br/>
            <div class="messageContainer">
            <span style="display:block" class="form-text text-center  text-muted terms">I agree to the <a target=_new
                                                                                                          href="http://warewolf.io/sla.php">Terms of Service</a> & <a
                    target=_new href="http://warewolf.io/privacy-policy.php">Privacy Policy.</a></span>
            </div>
        </div>
    </div>
</div>
<div class="footer text-center">
    <span class="form-text text-muted rights">&copy; Warewolf. All Rights Reserved.</span>
</div>
</body>
</html>