<Window x:Class="Warewolf.Studio.Shell"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:Warewolf.Studio.Core.Converters;assembly=Warewolf.Studio.Core"
        xmlns:core="clr-namespace:Warewolf.Studio.Core;assembly=Warewolf.Studio.Core"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:dockManager="http://infragistics.com/DockManager"
        xmlns:igWindows="http://infragistics.com/Windows"
        xmlns:interfaces="clr-namespace:Dev2.Common.Interfaces;assembly=Dev2.Common.Interfaces"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:regions="http://www.codeplex.com/CompositeWPF"
        xmlns:views="clr-namespace:Warewolf.Studio.Views;assembly=Warewolf.Studio.Views"
        x:Name="MainWindow"
        Title="Warewolf Studio"
        TextOptions.TextFormattingMode="Display"
        WindowState="Maximized"
        d:DataContext="{d:DesignInstance Type={x:Type interfaces:IShellViewModel}}"
        mc:Ignorable="d">


    <Window.Resources>


        <Style TargetType="{x:Type igWindows:XamPager}">
            <EventSetter Event="Loaded" Handler="UnpinnedTabArea_Loaded" />
        </Style>
        <converters:HeightConverter x:Key="HeightConverter" />
        <Style TargetType="{x:Type dockManager:ContentPane}">
            <EventSetter Event="MouseLeave" Handler="ContentPane_MouseLeave" />
        </Style>
        <Style TargetType="{x:Type dockManager:PaneTabItem}">
            <Setter Property="Height" Value="{Binding RelativeSource={RelativeSource AncestorType={x:Type dockManager:UnpinnedTabItemPanel}}, Path=ActualHeight, Converter={StaticResource HeightConverter}}" />
            <EventSetter Event="Loaded" Handler="PaneTabItem_Loaded" />
            <Setter Property="Width" Value="1" />
        </Style>
        <Style TargetType="dockManager:UnpinnedTabFlyoutSplitter">
            <EventSetter Event="PreviewMouseDown" Handler="PaneResize" />
        </Style>
        <Style TargetType="dockManager:DockedPaneSplitter">
            <EventSetter Event="PreviewMouseDown" Handler="PaneResize" />
        </Style>
        <DataTemplate DataType="{x:Type interfaces:IWorkflowServiceDesignerViewModel}">
            <views:WorkflowDesignerView />
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <dockManager:XamDockManager x:Name="DockManager"
                                            AllowMaximizeFloatingWindows="True"
                                            AllowMinimizeFloatingWindows="True"
                                            FlyoutAnimation="Resize"
                                            LayoutMode="FillContainer"
                                            PaneDragStarting="DockManager_OnPaneDragStarting"
                                            UnpinnedTabHoverAction="Flyout">
                    <dockManager:XamDockManager.Panes>

                        <dockManager:SplitPane x:Name="SlidingMenuPane"
                                               MinWidth="60"
                                               MaxWidth="150"
                                               SizeChanged="SlidingMenuPane_OnSizeChanged"
                                               SplitterOrientation="Horizontal"
                                               dockManager:XamDockManager.InitialLocation="DockedLeft">
                            <dockManager:SplitPane.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding MenuExpanded}" Value="True">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Duration="0:0:0.5"
                                                                         From="60"
                                                                         Storyboard.TargetProperty="Width"
                                                                         To="150" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Duration="0:0:0.5"
                                                                         From="150"
                                                                         Storyboard.TargetProperty="Width"
                                                                         To="60" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </dockManager:SplitPane.Style>
                            <dockManager:ContentPane x:Name="Menu"
                                                     HorizontalContentAlignment="Stretch"
                                                     VerticalContentAlignment="Stretch"
                                                     AllowDocking="False"
                                                     AllowFloatingOnly="False"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     IsPinned="True"
                                                     PinButtonVisibility="Hidden"
                                                     ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                                     Style="{DynamicResource DockmangerMenuPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="{x:Static core:RegionNames.Menu}" />
                        </dockManager:SplitPane>




                        <dockManager:SplitPane Width="300"
                                               SplitterOrientation="Horizontal"
                                               dockManager:XamDockManager.InitialLocation="DockedRight">


                            <dockManager:ContentPane x:Name="Variables"
                                                     AllowClose="False"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     Header="VARIABLES"
                                                     IsPinned="True"
                                                     Style="{DynamicResource DockmangerToolPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="Variables" />

                            <dockManager:ContentPane x:Name="OutputPane"
                                                     AllowClose="False"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     Header="OUTPUT"
                                                     IsPinned="True"
                                                     Style="{DynamicResource DockmangerToolPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="OutputPane" />

                        </dockManager:SplitPane>

                        <dockManager:SplitPane Width="300"
                                               SplitterOrientation="Horizontal"
                                               dockManager:XamDockManager.InitialLocation="DockedLeft">
                            <dockManager:ContentPane x:Name="Explorer"
                                                     AllowClose="False"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     Header="EXPLORER"
                                                     IsPinned="True"
                                                     Style="{DynamicResource DockmangerToolPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="{x:Static core:RegionNames.Explorer}" />
                            <dockManager:ContentPane x:Name="Toolbox"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     Header="TOOL BOX"
                                                     IsPinned="True"
                                                     Style="{DynamicResource DockmangerToolPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="{x:Static core:RegionNames.Toolbox}" />
                            <dockManager:ContentPane x:Name="Help"
                                                     Height="400"
                                                     AllowClose="False"
                                                     AllowDocking="False"
                                                     AllowFloatingOnly="False"
                                                     AllowInDocumentHost="False"
                                                     CloseButtonVisibility="Hidden"
                                                     Header="WHAT DOES THIS DO?"
                                                     IsPinned="True"
                                                     PinButtonVisibility="Hidden"
                                                     Style="{DynamicResource DockmangerToolPaneStyle}"
                                                     WindowPositionMenuVisibility="Hidden"
                                                     regions:RegionManager.RegionName="{x:Static core:RegionNames.Help}" />
                        </dockManager:SplitPane>
                    </dockManager:XamDockManager.Panes>
                    <dockManager:DocumentContentHost>
                        <dockManager:SplitPane>
                            <dockManager:TabGroupPane x:Name="Workspace"
                                                      SelectedItem="{Binding ActiveItem}"
                                                      regions:RegionManager.RegionName="{x:Static core:RegionNames.Workspace}" />
                        </dockManager:SplitPane>
                    </dockManager:DocumentContentHost>
                </dockManager:XamDockManager>
            </Grid>
        </Grid>
    </Grid>
</Window>
